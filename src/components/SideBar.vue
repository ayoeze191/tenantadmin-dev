<template>
  <a-layout-sider width="260" class="h-full min-h-screen overflow-y-auto">
    <div
      class="flex gap-2.5 items-center justify-center w-full mt-[16px] py-[6px] px-[10px]"
    >
      <div class="m-0 p-0">
        <svg
          width="27"
          height="40"
          viewBox="0 0 27 40"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18.7916 22.0956C18.7205 22.676 18.4635 23.2165 18.0604 23.6338C17.7916 23.9508 17.457 24.2032 17.0805 24.3727C16.6906 24.5629 16.2624 24.6578 15.83 24.65C15.4862 24.6505 15.1448 24.5909 14.8208 24.474L14.8061 24.4687C14.3909 24.3232 14.0156 24.0799 13.7108 23.7585C13.647 23.6881 13.5683 23.6334 13.4806 23.5985C13.3929 23.5637 13.2985 23.5497 13.2046 23.5575V28.2569H1.42002C1.18773 28.2567 0.964964 28.163 0.80056 27.9962C0.636156 27.8294 0.543524 27.6031 0.542969 27.367V13.7813C0.542867 13.5529 0.629491 13.3333 0.784787 13.1682C0.884452 13.1149 3.51246 10.2683 6.32301 7.23457C9.4142 3.90013 12.7246 0.343361 13.1595 0.0234594C13.1718 0.0122084 13.1865 0.00415693 13.2025 0V10.8223C13.1564 10.8047 13.1123 10.7849 13.0709 10.7647C13.0294 10.7444 13.0027 10.7295 12.9707 10.7114C12.9387 10.6932 12.9077 10.673 12.8778 10.6532L12.8395 10.6266C12.8159 10.6095 12.7934 10.5925 12.7708 10.5733C12.7147 10.529 12.6617 10.4826 12.6134 10.4346C12.594 10.416 12.5746 10.3973 12.5563 10.3781H12.5536L12.5243 10.3483L12.4949 10.3179C12.4477 10.2683 12.401 10.2176 12.3548 10.1665L12.3239 10.1329L12.2688 10.0726C12.22 10.0193 12.1702 9.96599 12.1183 9.91267C12.0878 9.88282 12.0564 9.85242 12.0244 9.8231C11.9808 9.78311 11.9352 9.74366 11.8864 9.7058C11.8675 9.69087 11.8481 9.67595 11.8282 9.66208C11.7983 9.63916 11.7668 9.6173 11.7343 9.5965C11.7123 9.58193 11.6897 9.56807 11.6666 9.55492C11.4477 9.42702 11.2089 9.33813 10.9606 9.29206C10.9197 9.28353 10.8772 9.27607 10.8342 9.26914C10.7911 9.26221 10.7455 9.25634 10.6993 9.25101C10.6689 9.24728 10.6385 9.24408 10.607 9.24141C9.93773 9.1743 9.26873 9.37194 8.7391 9.79324L8.6814 9.83856C8.63996 9.87269 8.59957 9.90734 8.56023 9.9452C8.52088 9.98305 8.49675 10.0049 8.46581 10.0353C8.24848 10.2528 8.06757 10.5049 7.93024 10.7817C7.91083 10.8212 7.89195 10.8606 7.87411 10.9006C7.8568 10.9412 7.84002 10.9817 7.82428 11.0227C7.80854 11.0638 7.79386 11.1054 7.78022 11.147C7.69116 11.4197 7.64859 11.7058 7.65432 11.9931C7.64969 12.2799 7.69224 12.5656 7.78022 12.8382C7.79386 12.8803 7.80854 12.9219 7.82375 12.9635C7.89424 13.1506 7.98465 13.3294 8.09337 13.4966C8.1175 13.5334 8.14216 13.5691 8.16734 13.6033C8.2574 13.728 8.35722 13.8451 8.46581 13.9536C8.51197 13.9999 8.56023 14.0447 8.60953 14.0874C8.67563 14.145 8.74434 14.1988 8.81516 14.2473C8.86761 14.2857 8.92269 14.322 8.97829 14.354C9.00872 14.3732 9.03967 14.3909 9.07114 14.4073C9.17282 14.4649 9.27793 14.516 9.38587 14.5603C9.42626 14.5763 9.46718 14.5918 9.50809 14.6062C9.88508 14.7392 10.2874 14.7812 10.6831 14.7288C10.7355 14.7229 10.788 14.716 10.8405 14.7075C10.8756 14.7016 10.9102 14.6957 10.9454 14.6888C11.0214 14.6739 11.0938 14.6557 11.162 14.6355C11.2008 14.6238 11.2386 14.612 11.2748 14.5992C11.333 14.579 11.3881 14.5571 11.4411 14.5336C11.4757 14.5187 11.5093 14.5027 11.5413 14.4862C11.5738 14.4702 11.6053 14.4531 11.6357 14.4355C11.7394 14.3784 11.8385 14.313 11.932 14.2399L11.9703 14.2095C11.9908 14.1924 12.0107 14.1759 12.0301 14.1588L12.0905 14.1055C12.1545 14.0463 12.2148 13.9871 12.272 13.929C12.3438 13.8555 12.411 13.7835 12.4765 13.7158C12.486 13.7062 12.4949 13.6966 12.5043 13.6875C12.5416 13.6497 12.5788 13.6134 12.6155 13.5809C12.6339 13.5638 12.6523 13.5473 12.6711 13.5313C12.7247 13.4848 12.7821 13.4431 12.8427 13.4065C12.8668 13.3927 12.8915 13.3799 12.9166 13.3676C12.942 13.3556 12.9681 13.3453 12.9948 13.3367C13.0626 13.3143 13.1333 13.3019 13.2046 13.2999V19.6446C13.3899 19.6138 13.5663 19.5419 13.7213 19.434C14.0712 19.2053 14.3801 18.8576 14.9341 18.6742C15.9648 18.3746 17.1346 18.7137 17.9198 19.4692C18.4139 19.9356 18.7275 20.5663 18.8037 21.2473C18.8425 21.529 18.8384 21.8151 18.7916 22.0956Z"
            fill="#D68F02"
          />
          <path
            d="M25.8925 13.7825V27.3671C25.892 27.6032 25.7993 27.8294 25.6348 27.9962C25.4704 28.163 25.2475 28.2567 25.0151 28.2569H13.1591V23.559C13.253 23.5511 13.3474 23.5651 13.4351 23.6C13.5229 23.6348 13.6017 23.6895 13.6655 23.7599C13.9702 24.0818 14.3457 24.3257 14.7612 24.4717L14.7759 24.477C15.1 24.5939 15.4415 24.6534 15.7855 24.6529C16.2181 24.6608 16.6465 24.5658 17.0366 24.3757C17.4132 24.2062 17.748 23.9538 18.0168 23.6368C18.4202 23.2195 18.6772 22.6791 18.7484 22.0987C18.7957 21.8184 18.8003 21.5323 18.762 21.2505C18.6856 20.5677 18.3706 19.9355 17.8741 19.4688C17.087 18.7134 15.9183 18.3743 14.8871 18.6739C14.333 18.8573 14.0239 19.207 13.6739 19.4336C13.5189 19.5415 13.3424 19.6134 13.157 19.6442V13.3C13.0856 13.3012 13.0148 13.3136 12.9471 13.3368C12.9204 13.3454 12.8943 13.3557 12.8689 13.3677C12.8437 13.38 12.819 13.3927 12.7949 13.4066C12.7343 13.4432 12.6769 13.4849 12.6233 13.5314C12.6049 13.5468 12.586 13.5633 12.5677 13.5809C12.5309 13.6151 12.4937 13.6513 12.4564 13.6876C12.447 13.6966 12.438 13.7062 12.4286 13.7158C12.363 13.7835 12.2958 13.8555 12.2239 13.9291C12.1667 13.9872 12.1064 14.0464 12.0424 14.1055L11.982 14.1589C11.9626 14.1759 11.9427 14.1924 11.9222 14.2095L11.8839 14.2399C11.791 14.3144 11.6924 14.3813 11.589 14.4398C11.5585 14.4569 11.527 14.4739 11.4945 14.4905C11.462 14.507 11.4284 14.5224 11.3943 14.5379C11.3418 14.5614 11.2862 14.5832 11.2279 14.6035C11.1917 14.6163 11.1539 14.628 11.1151 14.6397C11.0469 14.66 10.9745 14.6781 10.8984 14.693C10.8648 14.7 10.8302 14.7058 10.7934 14.7117C10.7409 14.7202 10.6885 14.7272 10.636 14.733C10.2401 14.7854 9.83765 14.7434 9.46051 14.6104C9.41958 14.596 9.37864 14.5806 9.33824 14.5646C9.23025 14.5203 9.1251 14.4692 9.02338 14.4116C8.99189 14.3945 8.96093 14.3767 8.93049 14.3582C8.87487 14.3241 8.82029 14.2879 8.76729 14.2516C8.69645 14.1983 8.6277 14.145 8.56158 14.0917C8.51225 14.049 8.46397 14.0042 8.4178 13.9579C8.30916 13.8494 8.20931 13.7323 8.1192 13.6076C8.09401 13.5719 8.06935 13.5362 8.04521 13.501C7.93644 13.3338 7.846 13.155 7.77548 12.9678C7.76026 12.9263 7.74557 12.8847 7.73192 12.8426C7.64392 12.57 7.60135 12.2844 7.60598 11.9976C7.60024 11.7103 7.64284 11.4242 7.73192 11.1515C7.74557 11.1099 7.76026 11.0683 7.776 11.0273C7.79175 10.9862 7.80854 10.9457 7.82586 10.9052C7.8437 10.8652 7.86259 10.8257 7.88201 10.7863C8.0194 10.5095 8.20038 10.2574 8.4178 10.0399C8.44876 10.0095 8.48024 9.97913 8.51225 9.94981C8.54426 9.92049 8.59202 9.8789 8.63347 9.84318L8.6912 9.79787C9.22105 9.37659 9.89032 9.17897 10.5599 9.24608C10.5914 9.24875 10.6218 9.25194 10.6523 9.25568C10.6984 9.26101 10.743 9.26687 10.7871 9.2738C10.8312 9.28073 10.8727 9.2882 10.9136 9.29673C11.1621 9.34278 11.401 9.43168 11.6199 9.55956C11.643 9.57306 11.6656 9.58693 11.6876 9.60114C11.7202 9.62194 11.7516 9.64379 11.7816 9.66672C11.8015 9.68058 11.8209 9.69551 11.8398 9.71043C11.8886 9.74829 11.9343 9.78774 11.9778 9.82772C12.0098 9.85705 12.0413 9.88743 12.0718 9.91729C12.1242 9.9706 12.1736 10.0239 12.2224 10.0772L12.2775 10.1375L12.3084 10.1711C12.3546 10.2244 12.4013 10.2729 12.4485 10.3225L12.4779 10.3529L12.5073 10.3827H12.5099C12.5283 10.4019 12.5477 10.4206 12.5671 10.4392C12.6196 10.4872 12.6721 10.5336 12.7246 10.5778C12.7471 10.596 12.7702 10.613 12.7933 10.6311L12.8316 10.6578C12.8615 10.6781 12.8925 10.6978 12.9245 10.7159C12.9565 10.734 12.9901 10.7522 13.0247 10.7692C13.0594 10.7863 13.1103 10.8092 13.1564 10.8268V0.00111543C13.1669 -0.00314959 13.1879 0.00484733 13.2189 0.024573C14.2165 0.649932 25.4087 13.0734 25.6538 13.1694C25.8057 13.3364 25.8908 13.555 25.8925 13.7825Z"
            fill="#000130"
          />
        </svg>
      </div>
      <p
        class="text-[18px] font-medium leading-4 font-redwing p-0 m-0 h-fit text-[#FFFFFF]"
      >
        10Ants
      </p>
    </div>
    <div class="px-[16px]">
      <a-menu
        mode="inline"
        :selectedKeys="[selectedKey]"
        :openKeys="openKeys"
        @openChange="onOpenChange"
        class="bg-[#111921] pt-[20px] border-t-[1px] border-t-[#D3D3D340] h-fit w-full"
      >
        <a-menu-item key="dashboard" class="text-[#FFFFFF8C]">
          <router-link :to="{ name: 'admin-dashboard' }">
            <template #icon><application-icon /></template>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              Overview
            </p>
          </router-link>
        </a-menu-item>

        <a-sub-menu key="service-requests" class="text-[#FFFFFF8C]">
          <template #icon> <request-icon /></template>
          <template #title
            ><span
              class="p-0 m-0 text-[#FFFFFF8C] text-[14px] leading-[20px] font-[500] font-inter"
            >
              Service Requests
            </span>
          </template>
          <a-menu-item key="pending-service-requests">
            <router-link :to="{ name: 'pending-service-requests' }"
              >Pending Request</router-link
            >
          </a-menu-item>
          <a-menu-item key="completed-service-requests">
            <router-link :to="{ name: 'completed-service-requests' }"
              >Completed Request</router-link
            >
          </a-menu-item>
          <a-menu-item key="all-service-requests">
            <router-link :to="{ name: 'all-service-requests' }"
              >All Request</router-link
            >
          </a-menu-item>
        </a-sub-menu>
        <a-menu-item key="admin-applications" class="text-[#FFFFFF8C]">
          <router-link :to="{ name: 'admin-applications' }">
            <template #icon><application-icon /></template>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              Tenancy Applications
            </p>
          </router-link>
        </a-menu-item>
        <a-sub-menu key="properties" class="text-[#FFFFFF8C]">
          <template #icon> <properties-icon /></template>
          <template #title>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              My Properties
            </p>
          </template>

          <a-menu-item key="add-admin-properties">
            <router-link :to="{ name: 'add-admin-properties' }"
              >Add Properties</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-properties">
            <router-link :to="{ name: 'admin-properties' }"
              >View Properties</router-link
            >
          </a-menu-item>
          <a-menu-item key="setup-properties">
            <router-link :to="{ name: 'setup-properties' }"
              >Setup Properties
            </router-link>
          </a-menu-item>
        </a-sub-menu>
        <a-sub-menu key="tenants" class="text-[#FFFFFF8C]">
          <template #icon> <tenants-icon /></template>
          <template #title>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              My Tenants
            </p>
          </template>
          <a-menu-item key="admin-tenants">
            <router-link :to="{ name: 'admin-tenants' }"
              >Tenant Overview</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-tenants-lease">
            <router-link :to="{ name: 'admin-tenants-lease' }"
              >Lease Management</router-link
            >
          </a-menu-item>
        </a-sub-menu>
        <a-sub-menu key="payments" class="text-[#FFFFFF8C]">
          <template #icon> <payments-icon /></template>
          <template #title>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              My Payments
            </p>
          </template>
          <a-menu-item key="admin-payments-due">
            <router-link :to="{ name: 'admin-payments-due' }"
              >Payment Due</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-payments-rent">
            <router-link :to="{ name: 'admin-payments-rent' }"
              >Rent Payment</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-payments-utility">
            <router-link :to="{ name: 'admin-payments-utility' }"
              >Utility</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-payments-deposit">
            <router-link :to="{ name: 'admin-payments-deposit' }"
              >Security Deposit</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-payments-maintenance">
            <router-link :to="{ name: 'admin-payments-maintenance' }"
              >Maintenance Fee</router-link
            >
          </a-menu-item>
        </a-sub-menu>
        <a-sub-menu
          key="users"
          v-if="userType == 'NN1'"
          class="text-[#FFFFFF8C]"
        >
          <template #icon> <users-icon /></template>
          <template #title>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              Users
            </p>
          </template>
          <a-menu-item key="admin-users-landlord">
            <router-link :to="{ name: 'admin-users-landlord' }"
              >Landlord</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-users-admin">
            <router-link :to="{ name: 'admin-users-admin' }">Admin</router-link>
          </a-menu-item>
          <a-menu-item key="admin-users-register">
            <router-link :to="{ name: 'admin-users-register' }"
              >Register Admin User</router-link
            >
          </a-menu-item>
        </a-sub-menu>
        <a-sub-menu
          key="roles"
          class="text-[#FFFFFF8C]"
          v-if="userType == 'NN1'"
        >
          <template #title>
            <p
              class="p-0 text-[#FFFFFF8C] m-0 text-[14px] leading-[20px] font-[500] font-inter"
            >
              Roles
            </p>
          </template>
          <template #icon> <roles-icon /></template>
          <a-menu-item key="admin-users-roles">
            <router-link :to="{ name: 'admin-users-roles' }"
              >View Roles</router-link
            >
          </a-menu-item>
          <a-menu-item key="admin-users-add-roles">
            <router-link :to="{ name: 'admin-users-add-roles' }"
              >Add Roles</router-link
            >
          </a-menu-item>
        </a-sub-menu>
        <a-menu-item
          key="admin-users-notification"
          v-if="userType == 'NN1'"
          class="text-[#FFFFFF8C]"
        >
          <router-link :to="{ name: 'admin-users-notification' }">
            <template #icon><notification-icon /></template>
            <p
              class="p-0 m-0 text-[14px] text-[#FFFFFF8C] leading-[20px] font-[500] font-inter"
            >
              User Notification
            </p>
          </router-link>
        </a-menu-item>

        <a-menu-item
          key="audit-logs"
          v-if="userType == 'NN1'"
          class="text-[#FFFFFF8C]"
        >
          <router-link :to="{ name: 'audit-logs' }">
            <template #icon><notification-icon /></template>
            <p
              class="m-0 p-0 text-[14px] text-[#FFFFFF8C] leading-[20px] font-[500] font-inter"
            >
              Audit Logs
            </p>
          </router-link>
        </a-menu-item>
      </a-menu>
    </div>
  </a-layout-sider>
</template>

<script>
import { Layout, Menu } from "ant-design-vue";
import IconOverview from "./icons/IconOverview.vue";
import IconServiceRequest from "./icons/IconServiceRequests.vue";
import IconApplications from "./icons/IconApplications.vue";
import IconProperties from "./icons/IconProperties.vue";
import IconTenants from "./icons/IconTenants.vue";
import IconPayments from "./icons/IconPayments.vue";
import IconUser from "./icons/IconUser.vue";
import IconRoles from "./icons/IconRoles.vue";
import IconNotification from "./icons/IconNotification.vue";
import IconAmenities from "./icons/IconAmenities.vue";
import { useUserStore } from "@/store";

export default {
  components: {
    "a-layout-sider": Layout.Sider,
    "a-menu": Menu,
    "a-menu-item": Menu.Item,
    "a-sub-menu": Menu.SubMenu,
    "overview-icon": IconOverview,
    "request-icon": IconServiceRequest,
    "application-icon": IconApplications,
    "properties-icon": IconProperties,
    "tenants-icon": IconTenants,
    "payments-icon": IconPayments,
    "users-icon": IconUser,
    "roles-icon": IconRoles,
    "notification-icon": IconNotification,
    "amenities-icon": IconAmenities,
  },
  data() {
    return {
      userType: useUserStore().userProfile.referenceID || "NN1",

      selectedKey: this.$route.name,
      openKeys: [],
    };
  },
  watch: {
    "$route.name"(val) {
      this.selectedKey = val;
    },
  },
  methods: {
    onOpenChange(openKeys) {
      this.openKeys = openKeys;
    },
  },
};
</script>

<style scoped>
.a-layout-sider {
  background: #fff;
  min-height: 100vh;
  overflow-y: auto;
  box-shadow: 2px 0 8px #f0f1f2;
}

/* Custom styling for active menu items */
:deep(.ant-menu-item-selected) {
  background-color: #ffffff66 !important;
  color: #ffffff !important;
}

:deep(.ant-menu-item:hover) {
  background-color: var(--vt-c-text-dark-2) !important;
}

:deep(.ant-menu-submenu-title:hover) {
  background-color: var(--vt-c-text-dark-2) !important;
}

:deep(.ant-menu-submenu-selected > .ant-menu-submenu-title) {
  background-color: var(--vt-c-text-dark-2) !important;
}
</style>
